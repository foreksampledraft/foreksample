<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Matrix Hover Hotspots</title>

<style>
    body {
        background: #000;
        margin: 0;
        padding: 20px;
        font-family: monospace;
        display: flex;
        justify-content: center;
    }

    .wrapper {
        position: relative;
        width: 80vw;
        max-width: 900px;
    }

    .banner {
        width: 100%;
        display: block;
        border-radius: 10px;
        transition: filter .25s ease;
    }

    /* Reduced dimming (previously brightness 0.6) */
    .wrapper.hovering .banner {
        filter: brightness(0.85);
    }

    .hotspot {
        position: absolute;
        cursor: pointer;
        overflow: hidden;
        border-radius: 4px;
        background: transparent;
    }

    canvas {
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        transition: opacity .25s ease-out;
        mix-blend-mode: screen;
        pointer-events: none;
    }

    .label {
        position: absolute;
        bottom: 5px;
        left: 5px;
        right: 5px;
        color: #0f0;
        font-size: 12px;
        font-weight: bold;
        opacity: 0;
        text-shadow: 0 0 5px #0f0;
        transition: opacity .35s ease-out;
        z-index: 10;
    }

    .hotspot:hover canvas { opacity: 0.9; }
    .hotspot:hover .label { opacity: 1; }
</style>
</head>
<body>

<div class="wrapper" id="wrapper">
    <img class="banner" src="the banner2.webp" />

    <!-- Hotspots -->
    <div class="hotspot" style="left:37.1429%; top:11.1502%; width:15.3571%; height:25%;">
        <canvas></canvas>
        <div class="label">“Digital Echoes” — L. Warren</div>
    </div>

    <div class="hotspot" style="left:55.5%; top:10.9155%; width:14.2143%; height:24.4131%;">
        <canvas></canvas>
        <div class="label">“Eyes of the Machine” — A. Noor</div>
    </div>

    <div class="hotspot" style="left:13.2857%; top:11.1502%; width:13%; height:30.6338%;">
        <canvas></canvas>
        <div class="label">“Signal Ghosts” — R. Han</div>
    </div>

    <div class="hotspot" style="left:36.3571%; top:40.2582%; width:14.2143%; height:33.216%;">
        <canvas></canvas>
        <div class="label">“Silent Surveillance” — K. Mira</div>
    </div>

    <div class="hotspot" style="left:52.8571%; top:40.8451%; width:12.3571%; height:29.5775%;">
        <canvas></canvas>
        <div class="label">“Pattern Watchers” — J. Rowe</div>
    </div>

    <div class="hotspot" style="left:80.2143%; top:42.6056%; width:16.2857%; height:32.7465%;">
        <canvas></canvas>
        <div class="label">“The Grid Sees All” — T. Vale</div>
    </div>

    <div class="hotspot" style="left:16.2857%; top:51.4085%; width:14.7143%; height:30.9859%;">
        <canvas></canvas>
        <div class="label">“Deep Layer Eyes” — M. Zhou</div>
    </div>
</div>

<script>
/* Toggle global dimming */
const wrapper = document.getElementById("wrapper");
document.querySelectorAll(".hotspot").forEach(h => {
    h.addEventListener("mouseenter", () => wrapper.classList.add("hovering"));
    h.addEventListener("mouseleave", () => wrapper.classList.remove("hovering"));
});

/* Matrix rain updates */
document.querySelectorAll(".hotspot canvas").forEach(canvas => {
    const ctx = canvas.getContext("2d");

    function resize() {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
    }
    resize();
    window.addEventListener("resize", resize);

    /* Fewer characters for a cleaner fit */
    const chars = "101010101010100101010100101".split("");

    let drops = [];

    function initDrops() {
        /* Reduced columns so no spill */
        const cols = Math.floor(canvas.width / 14) - 1;
        drops = Array(cols).fill(0);
    }

    function draw() {
        ctx.fillStyle = "rgba(0,0,0,0.04)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "#0f0";
        ctx.font = "14px monospace";

        /* Reserve bottom 25% for text → stop matrix rain there */
        const matrixMaxY = canvas.height * 0.75;

        drops.forEach((y, i) => {
            const text = chars[Math.floor(Math.random() * chars.length)];
            const x = i * 14;
            const yPos = y * 16;

            if (yPos < matrixMaxY) {
                ctx.fillText(text, x, yPos);
            }

            if (yPos > matrixMaxY || Math.random() > 0.975) {
                drops[i] = 0;
            } else {
                drops[i]++;
            }
        });

        requestAnimationFrame(draw);
    }

    initDrops();
    draw();
});
</script>

</body>
</html>
